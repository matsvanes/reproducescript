%%

cfg = [];
cfg.dataset = '../rawdata/Subject03.ds';
cfg.trialfun = 'ft_trialfun_general';
cfg.trialdef.eventtype = 'backpanel trigger';
cfg.trialdef.eventvalue = [3 5 9];
cfg.trialdef.prestim = 1;
cfg.trialdef.poststim = 2;

cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg = ft_definetrial(cfg);

%%

cfg = [];
cfg.dataset = '../rawdata/Subject03.ds';
cfg.trialfun = 'ft_trialfun_general';
cfg.trialdef.eventtype = 'backpanel trigger';
cfg.trialdef.eventvalue = [3 5 9];
cfg.trialdef.prestim = 1;
cfg.trialdef.poststim = 2;

cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.datafile = '../rawdata/Subject03.ds/Subject03.meg4';
cfg.headerfile = '../rawdata/Subject03.ds/Subject03.res4';
cfg.dataformat = 'ctf_meg4';
cfg.headerformat = 'ctf_res4';
cfg.representation = 'numeric';
cfg.trl = 'reproduce_Subject03/20210112T113928_ft_preprocessing_largecfginput_trl.mat';
cfg.outputfile = { 'reproduce_Subject03/20210112T113928_ft_preprocessing_output_data.mat' };
cfg.channel = { 'MEG', 'EOG' };
cfg.continuous = 'yes';
ft_preprocessing(cfg);

%%

cfg = [];
cfg.artfctdef.visual.artifact = [901 1800;
26101 27000;
40501 41400;
41401 42300;
42301 43200;
50401 51300;
73801 74700;
81001 81900;
84601 85500;
901 1800;
7201 8100;
38701 39600;
39601 40500;
40501 41400;
41401 42300;
50401 51300;
52201 53100;
59401 60300;
74701 75600;
76501 77400;
77401 78300;
79201 80100;
81001 81900;
81901 82800;
84601 85500;
85501 86400;
99901 100800;
109801 110700;
145801 146700;
155701 156600;
160201 161100;
163801 164700;
165601 166500;
184501 185400;
207001 207900];


cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113928_ft_preprocessing_output_data.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T113934_ft_rejectartifact_output_data.mat' };
ft_rejectartifact(cfg);

%%

cfg = [];
cfg.trials = logical([false;
true;
false;
false;
false;
true;
false;
false;
false;
false;
false;
true;
false;
true;
true;
false;
false;
false;
false;
false;
false;
false;
false;
true;
true;
false;
true;
false;
false;
false;
false;
true;
true;
true;
false;
false;
false;
false;
false;
true;
false;
false;
true;
false;
false;
false;
false;
false;
false;
false;
true;
false;
false;
true;
false;
false;
true;
true;
true;
false;
false;
false;
false;
true;
true;
false;
false;
true;
true;
false;
false;
false;
false;
false;
false;
false;
true;
false;
false;
false;
false;
false;
false;
true;
true;
false;
true;
true;
false;
true;
false;
false;
false;
true;
false;
false;
true;
false;
false;
false;
true;
false;
false;
true;
false;
false;
false;
true;
false;
true;
false;
true;
false;
false;
false;
false;
true;
false;
true;
false;
true;
false;
false;
false;
true;
true;
false;
false;
false;
false;
true;
false;
false;
false;
true;
false;
false;
true;
false;
false;
true;
false;
false;
true;
false;
false;
false;
true;
true;
false;
false;
false;
true;
false;
false;
false;
false;
true;
false;
false;
false;
false;
false;
true;
true;
true;
false;
false;
false;
true;
false;
false;
false;
false;
true;
false;
true;
true;
false;
false;
false;
true;
false;
true;
true;
false;
false;
false;
false;
false;
false;
false;
false;
false;
false;
false;
true;
true;
true;
false;
false;
false;
false;
false;
false;
true;
true;
false;
true;
true;
true;
false;
false;
true;
false;
true;
false;
true;
false;
false;
true;
true;
false;
true;
false;
false;
false;
true;
false;
false;
false;
false]);
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113934_ft_rejectartifact_output_data.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T113940_ft_timelockanalysis_output_timelock.mat' };
ft_timelockanalysis(cfg);

%%

cfg = [];
cfg.trials = logical([false;
false;
true;
false;
false;
false;
false;
true;
false;
true;
false;
false;
false;
false;
false;
true;
true;
true;
false;
true;
false;
false;
true;
false;
false;
true;
false;
false;
true;
false;
false;
false;
false;
false;
true;
false;
true;
true;
true;
false;
false;
true;
false;
false;
true;
false;
false;
false;
true;
true;
false;
false;
true;
false;
false;
false;
false;
false;
false;
true;
true;
false;
true;
false;
false;
false;
false;
false;
false;
true;
true;
false;
true;
false;
false;
false;
false;
false;
true;
false;
true;
false;
true;
false;
false;
true;
false;
false;
false;
false;
true;
false;
true;
false;
true;
false;
false;
false;
true;
true;
false;
true;
true;
false;
true;
false;
false;
false;
false;
false;
true;
false;
false;
false;
true;
true;
false;
true;
false;
true;
false;
true;
false;
false;
false;
false;
false;
true;
false;
false;
false;
false;
false;
false;
false;
true;
false;
false;
false;
false;
false;
true;
true;
false;
true;
true;
false;
false;
false;
false;
true;
false;
false;
false;
true;
true;
true;
false;
true;
false;
true;
false;
true;
false;
false;
false;
true;
false;
false;
false;
false;
false;
true;
false;
false;
false;
false;
false;
true;
false;
true;
false;
false;
false;
false;
true;
true;
true;
true;
false;
false;
true;
false;
true;
false;
false;
false;
false;
false;
true;
false;
true;
true;
false;
true;
false;
false;
true;
false;
false;
false;
false;
true;
false;
false;
false;
true;
false;
false;
true;
false;
false;
false;
false;
true;
true;
false;
false;
false;
true;
false;
false]);
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113934_ft_rejectartifact_output_data.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T113944_ft_timelockanalysis_output_timelock.mat' };
ft_timelockanalysis(cfg);

%%

cfg = [];
cfg.trials = logical([true;
false;
false;
true;
true;
false;
true;
false;
true;
false;
true;
false;
true;
false;
false;
false;
false;
false;
true;
false;
true;
true;
false;
false;
false;
false;
false;
true;
false;
true;
true;
false;
false;
false;
false;
true;
false;
false;
false;
false;
true;
false;
false;
true;
false;
true;
true;
true;
false;
false;
false;
true;
false;
false;
true;
true;
false;
false;
false;
false;
false;
true;
false;
false;
false;
true;
true;
false;
false;
false;
false;
true;
false;
true;
true;
true;
false;
true;
false;
true;
false;
true;
false;
false;
false;
false;
false;
false;
true;
false;
false;
true;
false;
false;
false;
true;
false;
true;
false;
false;
false;
false;
false;
false;
false;
true;
true;
false;
true;
false;
false;
false;
true;
true;
false;
false;
false;
false;
false;
false;
false;
false;
true;
true;
false;
false;
true;
false;
true;
true;
false;
true;
true;
true;
false;
false;
true;
false;
true;
true;
false;
false;
false;
false;
false;
false;
true;
false;
false;
true;
false;
true;
false;
true;
false;
false;
false;
false;
false;
true;
false;
true;
false;
false;
false;
false;
false;
true;
true;
false;
true;
true;
false;
true;
false;
true;
false;
false;
false;
true;
false;
false;
true;
false;
false;
false;
false;
false;
false;
true;
true;
false;
true;
false;
true;
true;
false;
false;
false;
false;
true;
false;
false;
true;
false;
false;
false;
false;
false;
false;
false;
true;
false;
false;
true;
false;
false;
false;
true;
false;
false;
false;
true;
false;
false;
false;
true;
false;
true;
false;
true;
true]);
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113934_ft_rejectartifact_output_data.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T113949_ft_timelockanalysis_output_timelock.mat' };
ft_timelockanalysis(cfg);

%%

cfg = [];
cfg.showlabels = 'no';
cfg.fontsize = 6;
cfg.layout = 'CTF151_helmet.mat';
cfg.baseline = [-0.2 0];
cfg.xlim = [-0.2 1];
cfg.ylim = [-3e-13 3e-13];
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113944_ft_timelockanalysis_output_timelock.mat', 'reproduce_Subject03/20210112T113949_ft_timelockanalysis_output_timelock.mat', 'reproduce_Subject03/20210112T113940_ft_timelockanalysis_output_timelock.mat' };
cfg.outputfile = 'reproduce_Subject03/20210112T113958_ft_multiplotER_output';
figure; 
ft_multiplotER(cfg);

%%

cfg = [];
cfg.feedback = 'yes';
cfg.method = 'template';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113940_ft_timelockanalysis_output_timelock.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T114006_ft_prepare_neighbours_output_neighbours.mat' };
ft_prepare_neighbours(cfg);

%%

cfg = [];
cfg.feedback = 'yes';
cfg.method = 'template';
cfg.neighbours = 'reproduce_Subject03/20210112T114006_ft_prepare_neighbours_output_neighbours.mat';
cfg.planarmethod = 'sincos';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113940_ft_timelockanalysis_output_timelock.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T114009_ft_megplanar_output_data.mat' };
ft_megplanar(cfg);

%%

cfg = [];
cfg.feedback = 'yes';
cfg.method = 'template';
cfg.neighbours = 'reproduce_Subject03/20210112T114006_ft_prepare_neighbours_output_neighbours.mat';
cfg.planarmethod = 'sincos';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113944_ft_timelockanalysis_output_timelock.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T114013_ft_megplanar_output_data.mat' };
ft_megplanar(cfg);

%%

cfg = [];
cfg.feedback = 'yes';
cfg.method = 'template';
cfg.neighbours = 'reproduce_Subject03/20210112T114006_ft_prepare_neighbours_output_neighbours.mat';
cfg.planarmethod = 'sincos';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113949_ft_timelockanalysis_output_timelock.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T114016_ft_megplanar_output_data.mat' };
ft_megplanar(cfg);

%%

cfg = [];
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T114009_ft_megplanar_output_data.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T114020_ft_combineplanar_output_data.mat' };
ft_combineplanar(cfg);

%%

cfg = [];
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T114013_ft_megplanar_output_data.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T114023_ft_combineplanar_output_data.mat' };
ft_combineplanar(cfg);

%%

cfg = [];
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T114016_ft_megplanar_output_data.mat' };
cfg.outputfile = { 'reproduce_Subject03/20210112T114027_ft_combineplanar_output_data.mat' };
ft_combineplanar(cfg);

%%

cfg = [];
cfg.xlim = [0.3 0.5];
cfg.zlim = 'maxmin';
cfg.colorbar = 'yes';
cfg.layout = 'CTF151_helmet.mat';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113940_ft_timelockanalysis_output_timelock.mat' };
cfg.outputfile = 'reproduce_Subject03/20210112T114030_ft_topoplotER_output';
figure; 
ft_topoplotER(cfg);

%%

cfg = [];
cfg.xlim = [0.3 0.5];
cfg.zlim = 'maxmin';
cfg.colorbar = 'yes';
cfg.layout = 'CTF151_helmet.mat';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113944_ft_timelockanalysis_output_timelock.mat' };
cfg.outputfile = 'reproduce_Subject03/20210112T114033_ft_topoplotER_output';
figure; 
ft_topoplotER(cfg);

%%

cfg = [];
cfg.xlim = [0.3 0.5];
cfg.zlim = 'maxmin';
cfg.colorbar = 'yes';
cfg.layout = 'CTF151_helmet.mat';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T113949_ft_timelockanalysis_output_timelock.mat' };
cfg.outputfile = 'reproduce_Subject03/20210112T114037_ft_topoplotER_output';
figure; 
ft_topoplotER(cfg);

%%

cfg = [];
cfg.xlim = [0.3 0.5];
cfg.zlim = 'maxabs';
cfg.colorbar = 'yes';
cfg.layout = 'CTF151_helmet.mat';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T114020_ft_combineplanar_output_data.mat' };
cfg.outputfile = 'reproduce_Subject03/20210112T114041_ft_topoplotER_output';
figure; 
ft_topoplotER(cfg);

%%

cfg = [];
cfg.xlim = [0.3 0.5];
cfg.zlim = 'maxabs';
cfg.colorbar = 'yes';
cfg.layout = 'CTF151_helmet.mat';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T114023_ft_combineplanar_output_data.mat' };
cfg.outputfile = 'reproduce_Subject03/20210112T114046_ft_topoplotER_output';
figure; 
ft_topoplotER(cfg);

%%

cfg = [];
cfg.xlim = [0.3 0.5];
cfg.zlim = 'maxabs';
cfg.colorbar = 'yes';
cfg.layout = 'CTF151_helmet.mat';
cfg.tracktimeinfo = 'yes';
cfg.trackmeminfo = 'yes';
cfg.inputfile = { 'reproduce_Subject03/20210112T114027_ft_combineplanar_output_data.mat' };
cfg.outputfile = 'reproduce_Subject03/20210112T114051_ft_topoplotER_output';
figure; 
ft_topoplotER(cfg);

